<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id = "root"></div>


    <script type = "text/babel">
        
        class Counter extends React.Component {

            // 클래스형 컴포넌트는 생성자(constructor)에서 props를 받을 수 있다.
            // -> 클래스형 컴포넌트에서 props를 받기 위해서는 constructor를 명시적으로 작성해야 함.

            constructor(props) {
                    // 부모컴포넌트로부터 전달받은 props 를 부모 클래스의 생성자에
                    // 젅달하면서 컴포넌트를 생성해야 한다.
                    super(props) // 반드시 명시해야 한다.

                    this.state = {
                        number: 3
                    };
            }

            /*
            1. state에 변화주기
                state에 객체 형태로 컴포넌트가 관리할 값들이 저장되어 있을 때
                state에 변화를 주고싶으면 state 객체의 프로퍼티에 직접 접근하여 수정하거나
                state 객체를 직접 새로운 객체로 바꾸는 것이 아닌,
                state의 seetter 메서드(setState)를 호출하고,
                관리할 값에 변화를 준 새로운 객체를 인수소 전달해야 한다.
                
                2. state에 변화를 줘서 render() 재호출
                setState()를 통해 state에 변화를 주면 자동으로 render()는 재호출된다.
                render()가 반환하는 새로운 엘리먼트로 가상DOM에 갈아끼우게 되고, 실제 DOM Tree와
                차이나는 부분을 확인해서(diff) 화면에 차이나는 부분만 다시 그려주게 된다.
            */ 
            render() {

                const {number} = this.state;

                console.log(number);
                
                return (
                    <>
                        <h1>{number}</h1>
                        <button onClick={() => this.setState({number: number -1})}>-1</button>
                        <button onClick={() => this.setState({number: number +1})}>+1</button>
                    </>
                )
            }
        }
        ReactDOM.createRoot(document.getElementById('root')).render(<Counter/>);
    </script>
</body>
</html>